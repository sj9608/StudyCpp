07-2 상속의 문법적인 이해
---

**상속이란?**
>"UniveStudent 클래스가 Person 클래스를 상속한다"

이 말은 Person 클래스가 지니고 있는 모든멤버를 UnivStudent 클래스가 물려받는다.

**상속의 방법과 그 결과**
예제를 통해 실제 상속의 결과를 확인해보자.
> 01_UnivStudentInheri.cpp

> UnivStudent 클래스의 생성자는 자신이 상속한 Person 클래스의 멤버를 초기화할 의무를 지닌다. 그래서 UnivStudent의 생성자는 Person의 생성자를 호출하는 형태로 Person 클래스의 멤버를 초기화 하는것이 좋다.

**용어의 정리**
|Person            |      UnivStudent |
|------------------|------------------|
| 상위 클래스         | 하위 클래스         |
| 기초(base) 클래스   | 유도(derived) 클래스|
| 슈퍼(super) 클래스  | 서브(sub) 클래스    |
| 부모 클래스         | 자식 클래스         |


**유도 클래스의 객체 생성과정**

유도 클래스의 객체 생성과정은 매우 중요하기 때문에 다음 예제의 실행결과를 통해 듀오 클래스의 객체 생성과정을 나름대로 정리하자. 참고로 여기서 중요한 것은 기초 클래스의 생성자 호출이다.

> 02_DerivCreOrder.cpp 예제 확인 및 main 실행결과 예측

``` bash
❌ ❌ ❌ 틀림 ❌ ❌ ❌
case1. . . .
SoDerived()
20
30
--------------
case2. . . .
SoDerived(int n)
20
12
--------------
case3. . . .
SoDerived(int n1, int n2)
23
24
```
실행 결과는 아래와 같다
``` bash
case1. . . .
SoBase()
SoDerived()
20
30
--------------
case2. . . .
SoBase()
SoDerived(int n)
20
12
--------------
case3. . . .
SoBase(int n)
SoDerived(int n1, int n2)
23
24
```

이 예제의 실행 결과로 알 수 있는 점은 아래와 같다.
* 유도 클래스의 객체 생성과정에서 기초 클래스의 생성자는 100% 호출된다.
* 유도 클래스의 생성자에서 기초클래스의 생성자 호출을 명시하지 않으면, 기초클래스의 void 생성자가 호출된다.

자세한 생성자의 호출과정은 책 288p~ 290p에 설명되어 있다.

아래의 기본 원칙이 유도 클래스의 객체 생성과정에서도 지켜야한다.
> **클래스의 멤버는 해당 클래스의 생성자를 통해서 초기화 해야한다**

**유도 클래스 객체의 소멸 과정**
유도 클래스의 객체 생성과정에서는 생성자가 두 번 호출됨을 알앗으니, 유도 클래스의 객체 소멸과정에서도 소멸자가 두 번 호출 됨을 유추할 수 있다. 간단한 예제를 통해 실제로 그런지 확인해보자.
> 03_DerivDestOrder.cpp 예제 확인

``` bash
SoBase()15
SoDerived(int n)15
SoBase()27
SoDerived(int n)27
~SoDerived()15
~SoBase()15
~SoDerived(27)
~SoBase()27
```

위의 실행 결과를 통해 알 수 있는 사실 두 가지는 다음과 같다.
* 유도클래스의 객체가 소멸될 때에는, 유도클래스의 소멸자가 실행된 뒤에 기초 클래스의 소멸자가 실행된다.
* 스택에 생성된 객체의 소멸순서는 생성순대와 반대이다.

이러한 객체 소멸의 특성 때문에 상속과 연관된 클래스의 소멸자는 다음의 원칙을 지켜서 정의 해야한다.
> 생성자에서 동적 할당한 메모리 공간은 소멸자에서 해제한다.

이와 관련된 예제를 확인하자.
> 04_DestModel.cpp 예제 확인