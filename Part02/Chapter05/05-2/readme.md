05-2 '깊은 복사'와 '얕은 복사'
---
디폴트 복사 생성자의 경우 멤버 대 멤버의 복사를 진행한다. 이러한 방식의 복사를 '얕은 복사'라고 한다. 이는 멤버변수가 힙의 메모리 공간을 참조하는 경우에 문제가 된다.

**디폴트 복사 생성자의 문제점**
> 01_ShallowCopyError.cpp 예제를 확인하자.

위 예제에서는 "called Destructor!" 가 한번만 출력 되었다.
이것은 소멸자가 1번만 호출되었다는 이야기 이다.
객체는 2번 생성하지만 1번만 소멸하였다. 여기서 문제는 아래와 같다.

<img width="400" alt="image" src="https://user-images.githubusercontent.com/52594760/103404391-acba4c00-4b96-11eb-9156-042ea279efc4.png">
</img>

같은 문자열 주소를 참조하게 되었다. 따라서 man1객체의 name 멤버가 소멸된 뒤 man2객체가 소멸이 되는데 이미 메모리 공간을 해제하였음에도 다시 한번 소멸하려고 하기 때문에 에러가 발생한다.

**'깊은 복사'를 위한 복사 생성자의 정의**
> 02_ShallowCopy.cpp 예제를 작성하자.